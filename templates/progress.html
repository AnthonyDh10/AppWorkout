{% extends "base.html" %}

{% block title %}Progrès - AI Fitness Coach{% endblock %}

{% block content %}
<div class="fade-in">
    <h1>📈 Vos Progrès</h1>
    
    {% if entries %}
    <div class="card">
        <h2>Historique des performances</h2>
        <p>Voici l'évolution de vos entraînements récents.</p>
        
        <div style="overflow-x: auto;">
            <table>
                <thead>
                    <tr>
                        <th>📅 Date</th>
                        <th>🏋️ Exercice</th>
                        <th>🔢 Séries</th>
                        <th>🔁 Reps</th>
                        <th>⚖️ Poids</th>
                    </tr>
                </thead>
                <tbody>
                    {% for entry in entries %}
                    <tr>
                        <td>{{ entry[5][:16] }}</td>
                        <td><strong>{{ entry[1] }}</strong></td>
                        <td>{{ entry[2] }}</td>
                        <td>{{ entry[3] }}</td>
                        <td>{{ entry[4] }} kg</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
    
    <div class="card">
        <h3>📊 Statistiques</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: var(--spacing-md); margin-top: var(--spacing-md);">
            <div style="text-align: center; padding: var(--spacing-md); background: rgba(244, 162, 97, 0.1); border-radius: var(--radius-small);">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent);">{{ entries|length }}</div>
                <div style="font-size: 0.9rem; color: var(--text-secondary);">Séances enregistrées</div>
            </div>
            <div style="text-align: center; padding: var(--spacing-md); background: rgba(233, 196, 106, 0.1); border-radius: var(--radius-small);">
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-secondary);">{{ entries|map(attribute=1)|unique|list|length }}</div>
                <div style="font-size: 0.9rem; color: var(--text-secondary);">Exercices différents</div>
            </div>
        </div>
    </div>
    
    {% else %}
    <div class="card text-center">
        <h2>🎯 Commencez votre suivi</h2>
        <p>Aucune donnée de performance enregistrée pour le moment.</p>
        <p style="color: var(--text-muted); margin-bottom: var(--spacing-lg);">Enregistrez votre première séance pour voir vos progrès ici !</p>
        <a href="/track" class="btn btn-primary">
            🚀 Enregistrer une séance
        </a>
    </div>
    {% endif %}
    
</div>
{% endblock %}